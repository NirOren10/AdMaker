{% extends "layout.html" %}

{% block title %}
    par
{% endblock %}

{% block main %}
<style>
    .Same{
  display:inline-block;
}
</style>
    <script>
        var questions_str = "{{questions_str}}";
        var list = questions_str.split(',')
        var one = "{{kk}}";
        var answers = JSON.parse('{{answers | tojson}}');
        var questions_and_answers = JSON.parse('{{questions_and_answers | tojson}}');
        // document.write(Object.keys(questions_and_answers))
        
        var keys = Object.keys(questions_and_answers);
        
        

        var questions_str = '{{questions}}';
        function check_word_count(txt){
            var keys = Object.keys(questions_and_answers);
        
        for (var i=0;i<keys.length; i++)
        {
            // document.write(questions_and_answers[keys[i]]);
            // document.write(Object.keys(questions_and_answers[keys[i]]))

            for (k =0;k<questions_and_answers[keys[i]].length;k++){
                // document.write(questions_and_answers[keys[i]][k])
                
                var ct = txt.toLowerCase().split(questions_and_answers[keys[i]][k].toLowerCase()).length - 1;
                
                document.getElementById(questions_and_answers[keys[i]][k]).innerHTML = ': '+ct+'/6 ';
            }
            // document.getElementById('printchatbox').innerHTML = inputBox.value;
        }
        }

    </script>
    <div style="float:left;border-radius:15px;
    background-color: #deddd9;
    height:30.5em;width:40%;padding:1%;margin-right:1%;">
<form action="/paragraph" method="post">
            <input autocomplete="off" autofocus class="textBox" id = "textBox" type="text"  name="txt" value="{{txt}}"
            style="width:100%;height:100%;background-color: #deddd9;" rows="10" onkeyup="check_word_count(inputBox.value);document.getElementById('printchatbox').innerHTML = inputBox.value;">
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>
        
        </div>
    <div style="float:left;">
        <div style="border-radius:15px;
        background-color: #deddd9;
        height:10em;width:36em;text-align:left;padding:2%" id = "printchatbox" class='printchatbox'>
        </div>
        <div style="border-radius:15px;
        background-color: #deddd9;
        position: absolute;
            width:40%;
            height: auto;
            display:flex;text-align:left;margin-top:5px;padding:1%">
            <ul>
            {% for q in questions_and_answers.keys() %}
                {% if questions_and_answers[q] != []%}
                <li>
                    <p >{{q}}</p>
                    <ul>
                        {% for a in questions_and_answers[q] %}
                        <li>
                            <p class="Same">{{a}}</p>
                            <p class="Same" id = "{{a}}">: 0/6 </p>
                        </li>
                        
                        {%endfor%}
                    </ul>
                    

                </li>
                {%endif%}
            {%endfor%}
        </ul>
        </div>
</div>
<script>
    var inputBox = document.getElementById('textBox');
    document.getElementById('printchatbox').innerHTML = JSON.parse("sljn");
    
    inputBox.onkeyup = function(){
        alert('ss')
        document.getElementById('printchatbox').innerHTML = inputBox.value;
    }
  </script>

  
{% endblock %}
